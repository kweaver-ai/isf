# 包含prep.cmake(定义编译时的选项)
INCLUDE($ENV{CMAKE}/common/prep.cmake)

# 设置版本号，和向下兼容性
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
CMAKE_POLICY(VERSION 2.8)

# 项目名称：ACSDATASTORE
PROJECT(ACSDATASTORE)

# 依赖的动态库
SET(NEED_CFL TRUE)
SET(NEED_XPCOM TRUE)
SET(NEED_NCUTIL TRUE)
SET(NEED_EDATAAPI TRUE)
SET(NEED_SYSWRAP TRUE)
SET(NEED_ETHRIFT TRUE)
SET(NEED_OSSCLIENT TRUE)
SET(ENABLE_C++11 TRUE)
SET(NEED_THRIFTAPI TRUE)

# 目标名称：acsdatastore
SET(TARGET_NAME acsdatastore)

# 动态库 
SET(TARGET_TYPE COMPONENT)

# 包含 ShareServer目录
INCLUDE_DIRECTORIES($ENV{SHARESERVER}/src)
INCLUDE_DIRECTORIES($ENV{EDATAAPI}/src)
INCLUDE_DIRECTORIES($ENV{EOFS}/src/eofs)

# 依赖的idl文件
SET(CUSTOM_IDL_PATH $ENV{SHARESERVER}/src/acsdatastore/public
                    $ENV{EOFS}/src/eofs/public)

ADD_DEFINITIONS("-DHAVE_INTTYPES_H")
ADD_DEFINITIONS("-DHAVE_NETINET_IN_H")
ADD_DEFINITIONS("-D_GLIBCXX_USE_NANOSLEEP")

INCLUDE($ENV{CMAKE}/common/target.cmake)
